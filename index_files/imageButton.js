define("imageButton",["lodash","utils","core","santaProps","coreUtils","santa-components","skins","imageClientLib"],function(e,t,a,n,o,i,s,r){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1323)}({0:function(t,a){t.exports=e},1:function(e,a){e.exports=t},1322:function(e,t,a){var n;void 0===(n=function(){"use strict";var e={"wysiwyg.common.components.imagebutton.viewer.skins.ImageButtonSkin":{react:[["a","link",[],{},["div",null,["_correct-positioning"],{},["div","defaultImage",[],{}]],["div",null,["_correct-positioning"],{},["div","hoverImage",[],{}]],["div",null,["_correct-positioning"],{},["div","activeImage",[],{}]]]],exports:{defaultImage:{skin:"skins.core.ImageNewSkin"},hoverImage:{skin:"skins.core.ImageNewSkin"},activeImage:{skin:"skins.core.ImageNewSkin"}},params:{fade_next:"TRANSITION",fade_prev:"TRANSITION"},paramsDefaults:{fade_next:"opacity 0.1s ease 0s",fade_prev:"opacity 0.5s ease 0s"},css:{"%link":"position:relative;display:block;z-index:0;overflow:visible;-ms-touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);","%link:after":'content:"";position:absolute;z-index:5;width:100%;height:100%;display:block;',"%defaultImage":"position:absolute;opacity:1;","%hoverImage":"position:absolute;opacity:0;","%activeImage":"position:absolute;opacity:0;","%_correct-positioning":"position:absolute;",'%[data-state~="hovered"] %defaultImage':"opacity:0;",'%[data-state~="hovered"] %hoverImage':"opacity:1;",'%[data-state~="hovered"] %activeImage':"opacity:0;",'%[data-state~="pressed"] %defaultImage':"opacity:0;",'%[data-state~="pressed"] %hoverImage':"opacity:0;",'%[data-state~="pressed"] %activeImage':"opacity:1;",'%[data-state~="transition_fade"][data-state~="prepare_adh"] %defaultImage,%[data-state~="transition_fade"][data-state~="prepare_ahd"] %hoverImage,%[data-state~="transition_fade"][data-state~="prepare_dah"] %activeImage,%[data-state~="transition_fade"][data-state~="prepare_dha"] %hoverImage,%[data-state~="transition_fade"][data-state~="prepare_had"] %activeImage,%[data-state~="transition_fade"][data-state~="prepare_hda"] %defaultImage':"z-index:1;[fade_next]",'%[data-state~="transition_fade"][data-state~="prepare_adh"] %activeImage,%[data-state~="transition_fade"][data-state~="prepare_ahd"] %activeImage,%[data-state~="transition_fade"][data-state~="prepare_dah"] %defaultImage,%[data-state~="transition_fade"][data-state~="prepare_dha"] %defaultImage,%[data-state~="transition_fade"][data-state~="prepare_had"] %hoverImage,%[data-state~="transition_fade"][data-state~="prepare_hda"] %hoverImage,%[data-state~="transition_fade"][data-state~="prepare_adh"] %hoverImage':"z-index:3;[fade_prev]",'%[data-state~="transition_fade"][data-state~="prepare_ahd"] %defaultImage,%[data-state~="transition_fade"][data-state~="prepare_dah"] %hoverImage,%[data-state~="transition_fade"][data-state~="prepare_dha"] %activeImage,%[data-state~="transition_fade"][data-state~="prepare_had"] %defaultImage,%[data-state~="transition_fade"][data-state~="prepare_hda"] %activeImage':"z-index:2;[fade_prev]"}}};return e}.apply(t,[]))||(e.exports=n)},1323:function(e,t,a){var n,o;n=[a(0),a(2),a(3),a(1),a(4),a(27),a(6),a(7),a(1322)],void 0===(o=function(e,t,a,n,o,i,s,r,p){"use strict";var d=t.compMixins;function c(e){e.component.setState({$prepare:e.preTransitionClass}),o.animationFrame.request(function(){e.component._isMounted&&e.component.setState(e.state)})}function u(e){e.state.$pressed&&c({component:e,preTransitionClass:"prepare_adh",state:{$pressed:"",$hovered:""}})}function f(e){e.state.$pressed?u(e):e.state.$hovered&&c({component:e,preTransitionClass:"prepare_hda",state:{$hovered:""}})}function l(t,a){var n=t.props.compData[a];if(!n)return{};n=e.assign({alt:t.props.compData.alt},n);var o={id:t.props.id+a,ref:a,skinPart:a,imageData:n,containerWidth:t.props.style.width,containerHeight:t.props.style.height,displayMode:i.fittingTypes.LEGACY_FULL};return t.createChildComponent(n,"core.components.Image",a,o)}var m={displayName:"ImageButton",mixins:[d.timeoutsMixin,d.skinBasedComp,d.createChildComponentMixin],propTypes:e.assign({compData:a.Types.Component.compData,compProp:a.Types.Component.compProp,linkRenderInfo:a.Types.Link.linkRenderInfo,rootNavigationInfo:a.Types.Component.rootNavigationInfo,style:a.Types.Component.style,windowFocusEvents:a.Types.SiteAspects.windowFocusEvents},a.santaTypesUtils.getSantaTypesByClass(s.components.Image)),getInitialState:function(){return this.blurEventAspect=this.props.windowFocusEvents,this.blurEventAspect.registerToFocusEvent("blur",this),{$opacity:"supports_opacity",$transition:"transition_"+this.props.compProp.transition,$prepare:"",$hovered:"",$pressed:""}},getSkinProperties:function(){var e=this,t={onMouseEnter:function(){!function(e){e.state.$hovered||c({component:e,preTransitionClass:"prepare_dha",state:{$hovered:"hovered"}})}(e)},onMouseLeave:function(){f(e)},onMouseDown:function(){!function(e){e.state.$pressed||c({component:e,preTransitionClass:"prepare_had",state:{$pressed:"pressed"}})}(e)},onMouseUp:function(){!function(e){e.state.$pressed&&c({component:e,preTransitionClass:"prepare_ahd",state:{$pressed:""}})}(e)},onDragStart:function(e){e.preventDefault()},onTouchStart:function(){!function(e){e.state.$pressed||c({component:e,preTransitionClass:"prepare_dah",state:{$pressed:"pressed"}})}(e)},onTouchEnd:function(){e._isMounted&&u(e)},onTouchMove:function(){e.state.$pressed&&(e.timeoutidToRemoveOnUnmount=e.setTimeout(t.onTouchEnd,500))},onClick:function(){u(e)}};return{"":t,defaultImage:l(e,"defaultImage"),hoverImage:l(e,"hoverImage"),activeImage:l(e,"activeImage"),link:function(e,t){var a={};return t.linkRef&&(a=t.linkRef,a=n.linkRenderer.renderLink(a,t.linkRenderInfo,t.rootNavigationInfo)),a.title=t.title,a.style={width:e.props.style.width,height:e.props.style.height},a}(e,{linkRef:e.props.compData.link,title:e.props.compData.alt,linkRenderInfo:e.props.linkRenderInfo,rootNavigationInfo:e.props.rootNavigationInfo})}},onBlur:function(){f(this)},componentDidMount:function(){this._isMounted=!0},componentWillUnmount:function(){clearTimeout(this.timeoutidToRemoveOnUnmount),this._isMounted=!1,this.blurEventAspect.unregisterFromFocusEvent("blur",this)}};return t.compRegistrar.register("wysiwyg.common.components.imagebutton.viewer.ImageButton",m),r.skinsMap.addBatch(p),m}.apply(t,n))||(e.exports=o)},2:function(e,t){e.exports=a},27:function(e,t){e.exports=r},3:function(e,t){e.exports=n},4:function(e,t){e.exports=o},6:function(e,t){e.exports=i},7:function(e,t){e.exports=s}})});
//# sourceMappingURL=imageButton.min.js.map